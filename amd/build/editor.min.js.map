{"version":3,"sources":["../src/editor.js"],"names":["init","tablejson","document","getElementById","AUTOCOMPLETE_TABLES","JSON","parse","value","editor","CodeMirror","fromTextArea","mode","styleActiveLine","lineNumbers","extraKeys","setSize","commands","autocomplete","cm","showHint","hint","sql","tables","disableKeywords"],"mappings":"qUAsBA,uDAKO,GAAMA,CAAAA,CAAI,CAAG,UAAM,IAClBC,CAAAA,CAAS,CAAGC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CADM,CAElBC,CAAmB,CAAGC,IAAI,CAACC,KAAL,CAAWL,CAAS,CAACM,KAArB,CAFJ,CAGlBC,CAAM,CAAGC,UAAWC,YAAX,CAAwBR,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAxB,CAAgE,CACzEQ,IAAI,CAAE,cADmE,CAEzEC,eAAe,GAF0D,CAGzEC,WAAW,GAH8D,CAIzEC,SAAS,CAAE,CAAE,aAAc,cAAhB,CAJ8D,CAAhE,CAHS,CAStBN,CAAM,CAACO,OAAP,CAAe,MAAf,CAAuB,GAAvB,EACAN,UAAWO,QAAX,CAAoBC,YAApB,CAAmC,SAAUC,CAAV,CAAc,CAC7CT,UAAWU,QAAX,CAAoBD,CAApB,CAAwBT,UAAWW,IAAX,CAAgBC,GAAxC,CAA6C,CACzCC,MAAM,CAAElB,CADiC,CAEzCmB,eAAe,GAF0B,CAA7C,CAIH,CACJ,CAhBM,C","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/*\n * JavaScript to add popup sql hints in the editor\n *\n * @package report_customsql\n * @copyright 2021 Marcus Green\n * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\nimport CodeMirror from 'report_customsql/codemirror/lib/codemirror';\nimport  'report_customsql/codemirror/addon/hint/show-hint';\nimport  'report_customsql/codemirror/addon/hint/sql-hint';\nimport  'report_customsql/codemirror/mode/sql/sql';\n\nexport const init = () => {\n    var tablejson = document.getElementById('tablejson');\n    var AUTOCOMPLETE_TABLES = JSON.parse(tablejson.value);\n    var editor = CodeMirror.fromTextArea(document.getElementById('id_querysql'), {\n        mode: 'text/x-mysql',\n        styleActiveLine: true,\n        lineNumbers: true,\n        extraKeys: { \"Ctrl-Space\": \"autocomplete\" }\n    });\n    editor.setSize('100%', 400);\n    CodeMirror.commands.autocomplete = function (cm) {\n        CodeMirror.showHint(cm, CodeMirror.hint.sql, {\n            tables: AUTOCOMPLETE_TABLES,\n            disableKeywords: true\n        });\n    };\n};\n"],"file":"editor.min.js"}